<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="theater">

	<select id="list" resultType="MovieAdmin">
      SELECT * FROM movie_admin
      WHERE id=#{id}
   </select>
   
   <insert id="sit_add">
   	insert into theater 
   	values (#{cinemaCode},#{theaterName},#{sit},#{row},#{line})
   </insert>
   
   <select id="theaterlist" resultType="Theater">
      SELECT * FROM theater
      WHERE cinema_code=#{cinemaCode}
   </select>
   <insert id="movieadd">
   		insert into movie
   		values (Null,#{movieName},#{cinemaCode},#{theaterName},#{movieDate},#{movieTime},#{image},#{movieRating})
   </insert>
   
   <select id="movieList" resultType="Movie">
      SELECT * FROM movie
      WHERE cinema_code=#{cinemaCode} and theater_name=#{theaterName}
   </select>
   
   <select id="theaterlistmap" resultType="Theater">
      SELECT * FROM theater
      WHERE cinema_code=#{cinemaCode} and theater_name=#{theaterName}
   </select>
   
   <update id="sit_update">
	   update theater
	   set theater_name=#{theaterName}, sit=#{sit},row=#{row},line=#{line}
	   where cinema_code=#{cinemaCode} and theater_name=#{theaterName}
   </update>
   
   <delete id="theaterdelete">
   		DELETE FROM theater
   		where cinema_code=#{cinemaCode} and theater_name=#{theaterName}
   </delete>
     <delete id="movie_delete"> 
   		DELETE FROM movie
   		where cinema_code=#{cinemaCode} and theater_name=#{theaterName}
   </delete>
   
   <delete id="deleteTheater">
   	DELETE FROM theater
   		where cinema_code=#{cinemaCode}
   </delete>
   <delete id="deleteCinema">
   		DELETE FROM movie_admin
   		where cinema_code=#{cinemaCode}
   </delete>
      <delete id="movie_all_delete"> 
   		DELETE FROM movie
   		where cinema_code=#{cinemaCode}
   </delete>
   <delete id="moviedelete"> 
   		DELETE FROM movie
   		where cinema_code=#{cinemaCode} and movie_date=#{movieDate} and movie_name=#{movieName} and movie_time=#{movieTime} and theater_name=#{theaterName}
   </delete>
 

</mapper>